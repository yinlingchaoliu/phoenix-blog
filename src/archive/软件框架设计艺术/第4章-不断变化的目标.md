---
title: 第4章-不断变化的目标
date: 2024-03-24 11:47:50
category:
  - 软件框架设计艺术
tag:
  - archive
---
判断一个API是否优秀，并不是简单根据第一个版本给出判断，而是看多年后，该API是否还能存在，是否仍旧保持不错

清单
* 1、第一个版本远非完美
* 2、API向后兼容（stable API）

```
源代码兼容
二进制兼容
功能兼容，api的副作用一致
```
* 3、面向用例的重要性
了解用户两种方式：
1、找一些用户，对其研究
2、基于用例，用例站在用户视角
3、结合使用场景
4、文档

* 4、设计评审
解决方案：从团队成员中选择一些技术最好的人，指导他们来设计自己所需的API，这样会造成一致性问题。设计评审会达成一致性

背景：过去人们一直认为设计工作不能由一个集体来完成，他需要一个架构师对所有设计进行决策，当然可以简化很多工作，但存在一个规模的限制。职责：设计，维护，传道（告诉别人如何使用）。唯一架构师的方式会受到规模限制。

优秀API的规则
```
1.用例驱动API设计
2.API设计的一致性
3.简单清晰的API
4.少即是多
5.支持改进
```

* 5、一个API的生命周期
开发API过程其实就是一个沟通交流的过程。沟通双方就是API用户和API设计者

API是开发人员与用户的沟通方式

* 6、逐步改善

软件熵增加，采用推到重来这种方法，很难从根本上解决问题

解决方案：改变工作方式（即下篇设计实战）
