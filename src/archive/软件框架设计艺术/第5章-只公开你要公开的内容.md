---
title: 第5章-只公开你要公开的内容
date: 2024-03-24 11:47:50
category:
  - 软件框架设计艺术
tag:
  - archive
---
###第一性原理：最少知道原则

问题：向api增加一个方法容易，移除一个比较难
解决方案：要限制访问权限，最小访问原则

设计的API会存在被他人误用可能，API中公开的方法都可能被误用
解决方案：设计API公开的内容最少

建议
`
将不必要的内容从API中移走，每一个额外的辅助工具，都意味着你对该API用户未来的一个兼容承诺
`

####1、方法优于字段
不要将类中字段对外公布，而是放置内部，让用户通过getter/setter方法来访问

####2、工厂方法优于构造函数
隐藏构造细节
####3、所有内容不可更改
不可以让类可以继承  
final 类
####4、避免滥用setter方法
setEnable() 减少

####5、尽可能通过友元方式来公开功能
默认package访问方式
 
####6、赋予对象创建者更多权利
建造者模式的API调用
####7、避免暴露深层次继承
用继承的方式用API，会为兼容存在潜在问题
